(window.webpackJsonp=window.webpackJsonp||[]).push([[30,12],{464:function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return o}));r(100),r(105);var n=function(e,t){return t.includes(e)},o=function(e,t){return-1!==t.indexOf(e)}},475:function(e,t,r){"use strict";r.r(t);r(14),r(13),r(15),r(12),r(16);var n=r(8),o=r(3),c=(r(32),r(34),r(11),r(31),r(144),r(29)),l=r(51),d=r(39),m=r(4),h=r(74),f=r(37),T=r(47),y=r(60),O=r(0),v=r(464);function _(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function w(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?_(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):_(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var x={name:"table-list",components:{BIconPencilFill:O.er,BIconTrashFill:O.Pv},data:function(){return{view:"adminTiquet",fields:[{key:"type",label:"Tipo",sortable:!0,class:"text-center"},{key:"referral_number",label:"N° Remisión",sortable:!0,class:"text-center"},{key:"receipt_number",label:"N° Recibo",sortable:!0,class:"text-center"},{key:"material_name",label:"Material",sortable:!0,class:"text-center"},{key:"date",label:"Fecha",sortable:!0,class:"text-center"},{key:"actions",label:"Acciones",class:"text-center"}],totalRows:1,currentPage:1,perPage:10,pageOptions:[10,25,50,{value:100,text:"Mostrar muchos"}],sortBy:"",filter:null,showInsert:!1,showList:!1}},computed:w(w(w(w(w({},Object(c.d)(m.typesCommon.PATH,["userPermisionsGroup"])),Object(c.d)(l.typesAdminTiquet.PATH,["adminTiquets","adminTiquet"])),Object(c.d)(d.typesTiquet.PATH,["tiquets","tiquetsToSynchronize","tiquet","statusTiquet"])),Object(c.d)(h.typesSynchronize.PATH,["statusSynchronize","dataFromServer"])),{},{items:function(){var e=this;return this.adminTiquets.data.map((function(t){return w(w({},t),{},{showDetail:Object(v.b)("".concat(e.view,".get"),e.userPermisionsGroup),showEdit:Object(v.b)("".concat(e.view,".update"),e.userPermisionsGroup),showDelete:Object(v.b)("".concat(e.view,".delete"),e.userPermisionsGroup)})}))},sortOptions:function(){return this.fields.filter((function(e){return e.sortable})).map((function(e){return{text:e.label,value:e.key}}))}}),watch:{adminTiquets:function(e){this.totalRows=e.total,this.showInsert=Object(v.b)("".concat(this.view,".insert"),this.userPermisionsGroup),this.showList=Object(v.b)("".concat(this.view,".list"),this.userPermisionsGroup)}},created:function(){this.search()},methods:w(w(w(w(w(w(w({},Object(c.b)(l.typesAdminTiquet.PATH,{getTiquets:l.typesAdminTiquet.actions.GET_TIQUETS,setTiquet:l.typesAdminTiquet.actions.SET_TIQUET,setShowModalForm:l.typesAdminTiquet.actions.SET_SHOW_MODAL_FORM,setTypeAction:l.typesAdminTiquet.actions.SET_TYPE_ACTION})),Object(c.b)(f.typesYard.PATH,{getOriginYards:f.typesYard.actions.GET_ORIGIN_YARDS,getDestinyYards:f.typesYard.actions.GET_DESTINY_YARDS})),Object(c.b)(y.typesThird.PATH,{getSupplierThirds:y.typesThird.actions.GET_SUPPLIER_THIRDS,getCustomerThirds:y.typesThird.actions.GET_CUSTOMER_THIRDS,getConveyorThirds:y.typesThird.actions.GET_CONVEYOR_THIRDS})),Object(c.b)(T.typesMaterial.PATH,{getMaterials:T.typesMaterial.actions.GET_MATERIALS})),Object(c.b)(h.typesSynchronize.PATH,{getData:h.typesSynchronize.actions.GET_DATA_FROM_SERVER,setData:h.typesSynchronize.actions.SET_DATA_TO_SERVER,setDataToLocale:h.typesSynchronize.actions.SET_DATA_TO_LOCALE})),Object(c.b)(d.typesTiquet.PATH,{getNotSynchronizedTiquets:d.typesTiquet.actions.GET_NOT_SYNCHRONIZED_TIQUETS})),{},{showModal:function(e,t){var r=this;return Object(n.a)(regeneratorRuntime.mark((function n(){var o,c,l;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=null,c=null,l=null,n.next=5,r.setTypeAction(t);case 5:if("create"===t){n.next=11;break}return n.next=8,r.setTiquet(w({},e));case 8:o=e.material,c=e.destiny_yard,l=e.origin_yard;case 11:return n.next=13,r.searchMaterials(o);case 13:return n.next=15,r.searchOriginYards(l);case 15:return n.next=17,r.searchDestinyYards(c);case 17:return n.next=19,r.searchConveyorThirds();case 19:return n.next=21,r.searchSupplierThirds();case 21:return n.next=23,r.searchCustomerThirds();case 23:return n.next=25,r.setShowModalForm(!0);case 25:case"end":return n.stop()}}),n)})))()},search:function(){var data={perPage:this.perPage,page:this.currentPage,text:this.filter};this.getTiquets(data)},searchOriginYards:function(e){var data={text:"",yard:e,excludedYard:null};this.getOriginYards(data)},searchDestinyYards:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var data;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return data={text:"",yard:e,excludedYard:null},r.next=3,t.getDestinyYards(data);case 3:case"end":return r.stop()}}),r)})))()},searchSupplierThirds:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return data={type:"ASOCIADO"},t.next=3,e.getSupplierThirds(data);case 3:case"end":return t.stop()}}),t)})))()},searchCustomerThirds:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return data={type:"CLIENTE"},t.next=3,e.getCustomerThirds(data);case 3:case"end":return t.stop()}}),t)})))()},searchConveyorThirds:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return data={type:"CONTRATISTA"},t.next=3,e.getConveyorThirds(data);case 3:case"end":return t.stop()}}),t)})))()},searchMaterials:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var data;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return data={text:"",material:e,loaderState:!0,loaderStateClose:!0},r.next=3,t.getMaterials(data);case 3:case"end":return r.stop()}}),r)})))()},synchronize:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getNotSynchronizedTiquets();case 2:if(!e.statusTiquet){t.next=13;break}return t.next=5,e.setData(e.tiquetsToSynchronize);case 5:if(!e.statusSynchronize){t.next=13;break}return t.next=8,e.getData();case 8:if(!e.statusSynchronize){t.next=13;break}return t.next=11,e.setDataToLocale(e.dataFromServer);case 11:return t.next=13,e.getTiquets();case 13:case"end":return t.stop()}}),t)})))()}})},S=r(69),component=Object(S.a)(x,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-card",{attrs:{title:"Gestionar tiquet","sub-title":"Opciones de listar, crear, modificar y eliminar tiquets"}},[r("b-row",[r("b-col",{staticClass:"my-1",attrs:{lg:"12"}},[r("b-input-group",{staticClass:"mb-3 mt-5",attrs:{size:"sm"}},[r("b-form-input",{attrs:{id:"filter-input",type:"search",placeholder:"Buscar ..."},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)}},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}),e._v(" "),r("b-input-group-append",[r("b-button",{attrs:{disabled:!e.filter},on:{click:function(t){e.filter=""}}},[e._v("Limpiar")]),e._v(" "),r("b-button",{staticClass:"ml-3",on:{click:function(t){return e.synchronize()}}},[e._v("Sincronizar")]),e._v(" "),e.showInsert?r("b-button",{staticClass:"ml-3",on:{click:function(t){return e.showModal(null,"create")}}},[e._v("Nuevo")]):e._e()],1)],1)],1)],1),e._v(" "),e.showList?[r("b-table",{attrs:{striped:!0,bordered:!0,hover:!0,fixed:!0,items:e.items,fields:e.fields,"current-page":e.currentPage,"per-page":0,stacked:"md","show-empty":"",small:""},scopedSlots:e._u([{key:"cell(actions)",fn:function(t){return[t.item.showDetail?r("b-button",{attrs:{size:"sm",title:"Ver detalle"},on:{click:t.toggleDetails}},[e._v("\n          "+e._s(t.detailsShowing?"Ocultar":"Ver")+" detalle\n        ")]):e._e(),e._v(" "),t.item.showEdit?r("b-button",{staticClass:"mr-1",attrs:{size:"sm",title:"Editar"},on:{click:function(r){return e.showModal(t.item,"edit")}}},[r("b-icon-pencil-fill")],1):e._e(),e._v(" "),t.item.showDelete?r("b-button",{staticClass:"mr-1",attrs:{size:"sm",title:"Eliminar"},on:{click:function(r){return e.showModal(t.item,"delete")}}},[r("b-icon-trash-fill")],1):e._e()]}},{key:"row-details",fn:function(t){return[r("b-card",[r("ul",e._l(t.item,(function(t,n){return r("div",{key:n},["_showDetails"!==n?r("li",[e._v("\n                "+e._s(n)+": "+e._s(t)+"\n              ")]):e._e()])})),0)])]}}],null,!1,2285885428)}),e._v(" "),r("b-row",[r("b-col",{staticClass:"my-1",staticStyle:{float:"right"},attrs:{sm:"9",md:"9"}},[r("b-pagination",{staticClass:"my-0",attrs:{"total-rows":e.totalRows,"per-page":e.perPage,align:"fill",size:"sm",pills:""},on:{input:e.search},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1),e._v(" "),r("b-col",{staticClass:"my-1",staticStyle:{display:"inline-block"},attrs:{sm:"3",md:"3"}},[r("b-form-group",{staticClass:"mb-0",attrs:{label:"Por página","label-for":"per-page-select","label-cols-sm":"8","label-cols-md":"8","label-cols-lg":"8","label-align-sm":"right","label-size":"sm"}},[r("b-form-select",{attrs:{id:"per-page-select",options:e.pageOptions,size:"sm"},on:{change:e.search},model:{value:e.perPage,callback:function(t){e.perPage=t},expression:"perPage"}})],1)],1)],1)]:e._e()],2)}),[],!1,null,null,null);t.default=component.exports},510:function(e,t,r){"use strict";r.r(t);var n=r(475),o=r(502),c={name:"Tiquet",layout:"menu",components:{TableList:n.default,ModalForm:o.default},data:function(){return{}},computed:{},mounted:function(){},methods:{}},l=r(69),component=Object(l.a)(c,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-container",{attrs:{fluid:""}},[r("table-list"),e._v(" "),r("modal-form")],1)}),[],!1,null,null,null);t.default=component.exports}}]);