(window.webpackJsonp=window.webpackJsonp||[]).push([[39,20],{464:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return o}));n(100),n(105);var r=function(t,e){return e.includes(t)},o=function(t,e){return-1!==e.indexOf(t)}},483:function(t,e,n){"use strict";n.r(e);n(14),n(13),n(15),n(12),n(16);var r=n(8),o=n(3),c=(n(32),n(34),n(11),n(31),n(144),n(29)),l=n(39),f=n(74),h=n(4),d=n(0),m=n(464);function y(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function T(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?y(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):y(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var _={name:"table-list",components:{BIconPencilFill:d.er,BIconTrashFill:d.Pv},data:function(){return{view:"tiquet",fields:[{key:"type",label:"Tipo",sortable:!0,class:"text-center"},{key:"referral_number",label:"N° Remisión",sortable:!0,class:"text-center"},{key:"receipt_number",label:"N° Recibo",sortable:!0,class:"text-center"},{key:"material_name",label:"Material",sortable:!0,class:"text-center"},{key:"date",label:"Fecha",sortable:!0,class:"text-center"},{key:"actions",label:"Acciones",class:"text-center"}],totalRows:1,currentPage:1,perPage:10,pageOptions:[10,25,50,{value:100,text:"Mostrar muchos"}],sortBy:"",filter:null,showInsert:!1,showList:!1}},computed:T(T(T(T({},Object(c.d)(h.typesCommon.PATH,["userPermisionsGroup"])),Object(c.d)(l.typesTiquet.PATH,["tiquets","tiquetsToSynchronize","tiquet","statusTiquet"])),Object(c.d)(f.typesSynchronize.PATH,["statusSynchronize","dataFromServer"])),{},{items:function(){var t=this;return this.tiquets.map((function(e){return T(T({},e),{},{showDetail:Object(m.b)("".concat(t.view,".get"),t.userPermisionsGroup),showEdit:Object(m.b)("".concat(t.view,".update"),t.userPermisionsGroup),showDelete:Object(m.b)("".concat(t.view,".delete"),t.userPermisionsGroup)})}))},sortOptions:function(){return this.fields.filter((function(t){return t.sortable})).map((function(t){return{text:t.label,value:t.key}}))}}),watch:{tiquets:function(t){this.showInsert=Object(m.b)("".concat(this.view,".insert"),this.userPermisionsGroup),this.showList=Object(m.b)("".concat(this.view,".list"),this.userPermisionsGroup)}},created:function(){this.search()},methods:T(T(T({},Object(c.b)(l.typesTiquet.PATH,{getTiquets:l.typesTiquet.actions.GET_TIQUETS,setTiquet:l.typesTiquet.actions.SET_TIQUET,setShowModalForm:l.typesTiquet.actions.SET_SHOW_MODAL_FORM,setTypeAction:l.typesTiquet.actions.SET_TYPE_ACTION,getNotSynchronizedTiquets:l.typesTiquet.actions.GET_NOT_SYNCHRONIZED_TIQUETS})),Object(c.b)(f.typesSynchronize.PATH,{getData:f.typesSynchronize.actions.GET_DATA_FROM_SERVER,setData:f.typesSynchronize.actions.SET_DATA_TO_SERVER,setDataToLocale:f.typesSynchronize.actions.SET_DATA_TO_LOCALE})),{},{showModal:function(t,e){"create"!==e&&this.setTiquet(T({},t)),this.setTypeAction(e),this.setShowModalForm(!0)},search:function(){var data={perPage:this.perPage,page:this.currentPage,text:this.filter};this.getTiquets(data)},synchronize:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getNotSynchronizedTiquets();case 2:if(!t.statusTiquet){e.next=13;break}return e.next=5,t.setData(t.tiquetsToSynchronize);case 5:if(!t.statusSynchronize){e.next=13;break}return e.next=8,t.getData();case 8:if(!t.statusSynchronize){e.next=13;break}return e.next=11,t.setDataToLocale(t.dataFromServer);case 11:return e.next=13,t.search();case 13:case"end":return e.stop()}}),e)})))()}})},O=n(69),component=Object(O.a)(_,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-card",{attrs:{title:"Gestionar tiquet","sub-title":"Opciones de listar, crear, modificar y eliminar tiquets"}},[n("b-row",[n("b-col",{staticClass:"my-1",attrs:{lg:"12"}},[n("b-input-group",{staticClass:"mb-3 mt-5",attrs:{size:"sm"}},[n("b-form-input",{attrs:{id:"filter-input",type:"search",placeholder:"Buscar ..."},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search(e)}},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}),t._v(" "),n("b-input-group-append",[n("b-button",{attrs:{disabled:!t.filter},on:{click:function(e){t.filter=""}}},[t._v("Limpiar")]),t._v(" "),n("b-button",{staticClass:"ml-3",on:{click:function(e){return t.synchronize()}}},[t._v("Sincronizar")]),t._v(" "),t.showInsert?n("b-button",{staticClass:"ml-3",on:{click:function(e){return t.showModal(null,"create")}}},[t._v("Nuevo")]):t._e()],1)],1)],1)],1),t._v(" "),t.showList?[n("b-table",{attrs:{striped:!0,bordered:!0,hover:!0,fixed:!0,items:t.items,fields:t.fields,"current-page":t.currentPage,"per-page":0,stacked:"md","show-empty":"",small:""},scopedSlots:t._u([{key:"cell(actions)",fn:function(e){return[e.item.showDetail?n("b-button",{attrs:{size:"sm",title:"Ver detalle"},on:{click:e.toggleDetails}},[t._v("\n          "+t._s(e.detailsShowing?"Ocultar":"Ver")+" detalle\n        ")]):t._e(),t._v(" "),e.item.showEdit?n("b-button",{staticClass:"mr-1",attrs:{size:"sm",title:"Editar"},on:{click:function(n){return t.showModal(e.item,"edit")}}},[n("b-icon-pencil-fill")],1):t._e(),t._v(" "),e.item.showDelete?n("b-button",{staticClass:"mr-1",attrs:{size:"sm",title:"Eliminar"},on:{click:function(n){return t.showModal(e.item,"delete")}}},[n("b-icon-trash-fill")],1):t._e()]}},{key:"row-details",fn:function(e){return[n("b-card",[n("ul",t._l(e.item,(function(e,r){return n("div",{key:r},["_showDetails"!==r?n("li",[t._v("\n                "+t._s(r)+": "+t._s(e)+"\n              ")]):t._e()])})),0)])]}}],null,!1,2285885428)})]:t._e()],2)}),[],!1,null,null,null);e.default=component.exports},519:function(t,e,n){"use strict";n.r(e);var r=n(483),o=n(505),c={name:"Tiquet",layout:"menu",components:{TableList:r.default,ModalForm:o.default},data:function(){return{}},computed:{},mounted:function(){},methods:{}},l=n(69),component=Object(l.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",{attrs:{fluid:""}},[n("table-list"),t._v(" "),n("modal-form")],1)}),[],!1,null,null,null);e.default=component.exports}}]);